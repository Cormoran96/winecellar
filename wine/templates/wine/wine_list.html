{% extends "./base.html" %}
{% block content %}
<div class="container">
<br>
{% load static %}
<div class="input-group mb-3">
  <div class="input-group-prepend">
    <a class="btn btn-secondary" href="/wine" role="button"><img src="{% static "wine/bootstrap/icons/x-circle.svg" %}" alt="Detail" width="" height="" title="Reset">
    </a>
  </div>
               <form action="{% url 'wine:search' %}" method="get">
            <input name="q" class="form-control" type="search" placeholder="search&filter">
            </form>  <div class="input-group-append">
    <span class="input-group-text">
        <a href="/wine/log">
        <img src="{% static "wine/bootstrap/icons/card-list.svg" %}" alt="Detail" width="" height="" title="Changes in Stock"></a>
    </span>
  </div>
</div>
<div class="table-responsive">
<table class="table table-hover sortable" id="wineTable">
  <thead>
    <tr>
      <th width="50"><img src="{% static "wine/bootstrap/icons/search.svg" %}" alt="Detail" width="16" height="16" title="Details"></th>
      <th style="cursor:pointer">Weinname</th>
      <th class="d-none d-sm-table-cell" style="cursor:pointer">Produzent</th>
      <th class="d-none d-sm-table-cell" style="cursor:pointer">Land</th>
      <th class="d-none d-sm-table-cell" style="cursor:pointer">Region</th>
      <th style="cursor:pointer">Jahrgang</th>
      <th class="d-none d-sm-table-cell">Trauben</th>
      <th class="d-none d-sm-table-cell" style="cursor:pointer">trinkbar von</th>
      <th class="d-none d-sm-table-cell" style="cursor:pointer">trinkbar bis</th>
      <th style="cursor:pointer"><img src="{% static "wine/bootstrap/icons/basket-fill.svg" %}" alt="Detail" width="16" height="16" title="Detail"></th>
    </tr>
  </thead>
<tbody>
{% for wine in object_list %}
{% load static %}
<tr>
    <th scope="row"> <button class="btn btn-sm btn-success" type="button" data-bs-toggle="collapse" data-bs-target="#wine{{ wine.id }}" aria-expanded="false" aria-controls="wine{{ wine.id }}">
        <img src="{% static "wine/bootstrap/icons/search.svg" %}" alt="Detail">
        </button>
    </th>
    <td>{{ wine.winename }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.producer }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.country }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.region }}</td>
    <td>{{ wine.year|default_if_none:'' }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.grapes }}</td>
    <td class="d-none d-sm-table-cell">{{ wine.drinkfrom|default_if_none:''}}</td>
    <td class="d-none d-sm-table-cell">{{ wine.drinkto|default_if_none:'' }}</td>
    <td>{{ wine.nmbrbottles }}</td>
</tr>
<tr>
    <td colspan="10" class="hiddenRow">
        <div class="collapse" id="wine{{ wine.id }}">
        <div class="card card-body">
            <table>
                <tr>
                    <td><h5>{{ wine.winename }}</h5></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><h6>{{ wine.producer }}</h6></td>
                    <td></td>
                    <td></td>

                </tr>
                <tr>
                    <td><b>Land:</b> {{ wine.country }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Region:</b> {{ wine.region }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Trauben:</b> {{ wine.grapes }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Trinkreif von:</b> {{ wine.drinkfrom|default_if_none:'' }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Trinkbar bis:</b> {{ wine.drinkto|default_if_none:'' }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Händler:</b> {{ wine.dealer }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Kaufdatum:</b> {{ wine.purchase|default_if_none:''|date:'d.m.Y' }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Preis:</b> {{ wine.price }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Jahrgang:</b> {{ wine.year }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Anzahl Flaschen: {{ wine.nmbrbottles }}</b></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><b>Notiz:</b> {{ wine.notes }}</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><div class="dates">Update: {{ wine.editdate|date:"d.m.Y"}}</div></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>&nbsp;</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td><a href="{% url 'wine:update_wine' wine.id %}" class="btn btn-success btn-sm">
                        <img src="{% static "wine/bootstrap/icons/pencil.svg" %}" alt="Edit" width="" height="" title="Wein editieren">
                        </a>
                        <a href="{% url 'wine:wine_delete' wine.id %}" class="btn btn-success btn-sm">
                        <img src="{% static "wine/bootstrap/icons/trash.svg" %}" alt="Löschen" width="" height="" title="Wein löschen">
                        </a>
                        <a href="{% url 'wine:copy_wine' wine.id %}" class="btn btn-success btn-sm">
                        <img src="{% static "wine/bootstrap/icons/clipboard-plus.svg" %}" alt="Edit" width="" height="" title="Wein kopieren">
                        </a>
                    </td>
                    <td>
                    </td>
                    <td>
                    </td>
                </tr>
            </table>
        </div>
        </div>
    </td>
</tr>
{% endfor %}
</tbody>
</table>
</div>
</body>
</html>
{% endblock %}